<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>MRCP Navigator</title>
<link href="styles.css" rel="stylesheet"/>
<link href="favicon.ico" rel="icon"/>
<meta content="#0ea5e9" name="theme-color"/><link href="manifest.webmanifest" rel="manifest"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="default" name="apple-mobile-web-app-status-bar-style"/><meta content="MRCP Navigator" name="apple-mobile-web-app-title"/><link href="icons/icon-192.png" rel="apple-touch-icon"/></head>
<body>
<div class="bg"></div>
<main class="shell">
<header class="glass header">
<div class="brand">MRCP Navigator</div>
<div class="stats">
<span class="chip hidden" id="subjectBadge"></span>
<span class="muted" id="progress">0 / 0</span>
<span class="muted" id="score">Score: 0</span>
</div>
</header>
<section class="glass card enter" id="start">
<div class="grid">
<div class="field">
<label class="label">Subject</label>
<div class="subject-accordion" id="subjectAccordion">
<button aria-expanded="false" class="dropdown-toggle" id="subjectToggle">
<span id="subjectLabel">Choose subject</span>
<span class="dot"></span>
</button>
<div aria-label="Subjects" class="panel hidden" id="subjectPanel" role="listbox"></div>
</div>
</div>
<div class="field">
<label class="label" for="startIndexInput">Start from</label>
<div class="input-wrap">
<span class="prefix">#</span>
<input class="input" id="startIndexInput" min="1" step="1" type="number" value="1"/>
</div>
<p class="hint">1-based (e.g., 15 starts at question 15).</p>
</div>
</div>
<div class="row">
<button class="btn btn-primary" id="startBtn">Start</button>
<button class="btn btn-ghost hidden" id="resumeBtn">Resume</button>
<button class="btn btn-ghost hidden" id="clearBtn">Clear saved</button>
</div>
</section>
<section class="glass card hidden" id="card">
<div class="qhead">
<div class="qnum" id="qnum"></div>
<div class="qtext" id="qtext"></div>
</div>
<form class="options" id="options"></form>
<div class="callout hidden" id="feedback"></div>
<div class="callout hidden" id="explanation"></div>
<div class="actions">
<div class="row space">
<button class="btn btn-primary" disabled="" id="submitBtn">Submit</button>
<button class="btn btn-ghost right" disabled="" id="nextBtn">Next</button>
</div>
<button class="btn btn-ghost big glassy" id="finishBtn">Finish Session</button>
</div>
</section>
<section class="glass card hidden" id="done">
<h2 class="title">Session summary</h2>
<p class="muted" id="finalStats"></p>
<div class="review hidden" id="review">
<h3>Review: Wrong Answers</h3>
<ol id="reviewList"></ol>
</div>
<div class="row center">
<button class="btn btn-primary" id="restartBtn">Restart</button>
<button class="btn btn-ghost" id="backBtn">Back</button>
</div>
</section>
</main>
<script src="questions_by_subject.js"></script>
<script src="script.js"></script>

<script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js').catch(err => console.log('SW reg failed', err));
      });
    }
    </script>
</body>
</html>