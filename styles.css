* { box-sizing: border-box; }
:root{
  --bg: #0a0c12;
  --fg: #ecf0f6;
  --muted: #b7bfd3;
  --glass: rgba(255,255,255,0.06);
  --glass-strong: rgba(255,255,255,0.10);
  --glass-brd: rgba(255,255,255,0.16);
  --brand1:#6e8bff;
  --brand2:#54d3ff;
  --ok:#27d3a3;
  --bad:#ff6b7e;
}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--fg);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.55}
.bg{position:fixed;inset:0;background:
 radial-gradient(600px 400px at 12% 14%, #223877 0, transparent 60%),
 radial-gradient(700px 460px at 86% 4%, #24405c 0, transparent 60%),
 radial-gradient(600px 400px at 52% 92%, #3c2870 0, transparent 60%);
 filter:blur(38px);opacity:.6;z-index:0}
.shell{position:relative;z-index:1;max-width:820px;margin:44px auto;padding:0 20px}
.header{display:flex;justify-content:space-between;align-items:center;padding:16px 18px;margin-bottom:20px}
.brand{font-weight:800;letter-spacing:.3px}
.stats{display:flex;gap:14px;align-items:center}
.muted{opacity:.85;color:var(--muted)}
.chip{padding:4px 10px;border-radius:999px;background:var(--glass);border:1px solid var(--glass-brd)}
.hidden{display:none}
.glass{background:var(--glass);border:1px solid var(--glass-brd);backdrop-filter:blur(14px) saturate(120%);-webkit-backdrop-filter:blur(14px) saturate(120%);box-shadow:0 10px 40px rgba(0,0,0,.35);border-radius:18px}
.card{padding:26px 22px;animation:pop-in .45s ease both}
.title{margin:0 0 10px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px;margin-bottom:14px}
.row{display:flex;gap:10px;align-items:center}
.center{justify-content:center}
.space{justify-content:space-between}

.field .label{font-size:13px;color:var(--muted);margin-bottom:6px;display:block}

/* Inline (accordion) subject selector */
.subject-accordion{width:100%}
.dropdown-toggle{
  width:100%; display:flex; align-items:center; justify-content:space-between;
  background:var(--glass-strong); border:1px solid var(--glass-brd);
  border-radius:999px; padding:10px 14px; cursor:pointer; font-weight:800;
  color:var(--fg); transition:box-shadow .2s ease, border-color .2s ease, transform .06s ease;
}
.dropdown-toggle:hover{box-shadow:0 8px 26px rgba(0,0,0,.28); border-color:rgba(255,255,255,.26)}
.dropdown-toggle:active{transform:translateY(1px)}
.dropdown-toggle .dot{
  flex:0 0 auto; width:18px;height:18px;border-radius:50%;
  background:linear-gradient(135deg, var(--brand1), var(--brand2));
  box-shadow:0 6px 16px rgba(0,0,0,.25);
}
.panel{
  margin-top:10px; border-radius:16px; padding:8px;
  background:var(--glass-strong); border:1px solid var(--glass-brd);
  backdrop-filter: blur(14px) saturate(120%); -webkit-backdrop-filter: blur(14px) saturate(120%);
  box-shadow:0 10px 30px rgba(0,0,0,.35); animation:fade-in .18s ease both;
}
.panel .item{
  width:100%; text-align:left; border:0; background:transparent; color:var(--fg);
  padding:10px 12px; border-radius:12px; font-weight:700; cursor:pointer;
  transition:background .15s ease, transform .06s ease;
}
.panel .item:hover{ background:rgba(255,255,255,.08); transform:translateY(-1px) }
.panel .meta{ opacity:.85; font-weight:600; font-size:12px; margin-left:6px; color:var(--muted) }

/* Inputs */
.input-wrap{display:flex;align-items:center;background:var(--glass-strong);border:1px solid var(--glass-brd);border-radius:14px;padding:8px 10px}
.input{background:transparent;border:0;color:var(--fg);outline:0;font-weight:800;font-size:16px;width:120px;padding:6px 8px}
.prefix{opacity:.75;border-right:1px solid rgba(255,255,255,.15);padding:6px 10px;margin-right:8px}
.hint{margin:8px 0 0;color:var(--muted);font-size:12px}

.qhead{display:grid;gap:10px;margin-bottom:12px}
.qnum{font-size:13px;color:var(--muted)}
.qtext{font-size:20px;line-height:1.65}

.options{display:grid;gap:12px;margin:10px 0 8px}
.option{display:flex;gap:12px;align-items:flex-start;padding:14px 16px;border-radius:16px;background:rgba(255,255,255,.05);border:1px solid var(--glass-brd);cursor:pointer;transition:transform .08s ease,border-color .2s,background .2s}
.option:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.26)}
.option.correct{background:rgba(39,211,163,.18);border-color:rgba(39,211,163,.55)}
.option.incorrect{background:rgba(255,107,126,.18);border-color:rgba(255,107,126,.55)}
.option input{margin-top:4px}

.callout{margin-top:14px;padding:12px 14px;border-radius:16px;background:rgba(255,255,255,.05);border:1px solid var(--glass-brd);animation:fade-in .3s ease both}
.callout.correct{background:rgba(39,211,163,.18);border-color:rgba(39,211,163,.55)}
.callout.incorrect{background:rgba(255,107,126,.18);border-color:rgba(255,107,126,.55)}

/* Buttons */
.actions{display:grid;gap:12px;margin-top:18px}
.btn{position:relative;display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border-radius:16px;border:0;cursor:pointer;font-weight:800;letter-spacing:.2px;transition:transform .08s ease,filter .15s ease,opacity .2s,box-shadow .2s;user-select:none}
.btn:disabled{opacity:.6;cursor:not-allowed}
.btn-primary{background:linear-gradient(135deg,var(--brand1),var(--brand2));color:#0b1020}
.btn-ghost{background:rgba(255,255,255,.06);color:var(--fg);border:1px solid var(--glass-brd)}
.btn.big{padding:14px 18px;font-size:16px}
.btn.glassy{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.18);box-shadow:0 10px 28px rgba(0,0,0,.28)}
.btn:hover{box-shadow:0 8px 24px rgba(0,0,0,.24)}
.btn:active{transform:translateY(1px) scale(.98)}

.review{margin-top:16px}
.review ol{margin:0;padding-left:18px;display:grid;gap:12px}
.rev-card{background:rgba(255,255,255,.06);border:1px solid var(--glass-brd);border-radius:16px;padding:12px 14px;animation:fade-in .25s ease both}
.rev-q{font-weight:800;margin-bottom:6px}
.rev-a{margin:4px 0}
.rev-exp{font-size:14px;opacity:.9}

@keyframes pop-in{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}
@keyframes fade-in{from{opacity:0}to{opacity:1}}